# Ключевые механики геймплея

Игра проходит в сеттинге CS:GO, т.е. используются аналогичные карты, модели персонажей, набор оружия, брони и т.п. Персонаж спавнится на одном из плентов карты (точки закладки бомбы) с пистолетом. Во время прохождения игрок должен отстреливаться от бесконечно спавнящахся врагов (ботов). Со временем прохождения уровня у ботов меняется оружие. В начале у ботов находится только нож, далее добавляется стрелковое оружие. На финальной волне на уровне спавнится босс: бот с повышенной броней и тяжелым оружием (пулемет или снайперская винтовка). За уничтожения ботов игрок получает деньги, которые может потратить на закупку оружия, брони или на восстановления здоровья (возможны также дополнительные бонусы: увеличение здоровья и т.п.). Уровень считается проигранным, если у игрока закончится здоровье или боты будут находится в точке плента (заданной зоны) определенное количество времени. Выигрыш достигается, если были отбиты все волны ботов.

![](https://github.com/xthebat/unreal_tasks/blob/Cloud9/Cloud9/Screenshots/Firstview.png)

# Основная функциональность

## Игровое поле

### Камера
- [ ] Положение камеры должно быть зафиксировано на игроке
- [ ] Камеры отображает фрагмент карты (около 5%-10%)
- [ ] Игровое окружение должно автоматически исчезать в случае, если игрок заходит в "помещение"
- [ ] У игрока не должны отображаться боты находящиеся в не зоны его прямой видимости

## Управление персонажем

### Варианты движений
Движение персонажа осуществляется с помощью клавиатуры, должны быть реализованы следующие варианты движений:
- [ ] Движение вперед/назад - **W/S**
- [ ] Движение влево/вправо относительно камеры (Strafe) - **A/D**
- [ ] Приседание (Crouch) - позволяет присесть и спрятаться за преградой - **CTRL**
- [ ] Ходьба (Walk) - медленное передвижение персонажа на 1/2 скорости от базовой - **SHIFT**
- [ ] Прыжок - **SPACE**

### Прицеливание и направление взгляда
- [ ] Прицеливание и поворот персонажа осуществляется с помощью курсора мыши. Направление "взгляда" персонажа должно следить за курсором мыши.
- [ ] Должна быть реализована возможность отдаления/приближения камеры с помощью колесика мыши. Камера не должна иметь возможность отдаляться так, чтобы нивелировать преимущества снайперской винтовки.

### Действия
Персонаж должен уметь осуществлять следующие варианты действий:
- [ ] Основное действие: для большинства оружий - это стрельба - **ЛКМ**
- [ ] Вторичное действие: ближний бросок гранаты или прицеливание для снайперской винтовки - **ПКМ**
- [ ] **БОНУС** Специальное действие: например, средний бросок гранаты - **ЛКМ + ПКМ**
- [ ] Перезарядка оружия - **R**
- [ ] Взаимодействие с окружением - **E**
- [ ] **БОНУС** Нарисовать граффити- **T**
- [ ] Выбросить оружие - **G**
- [ ] Открыть окно закупки оружия/предметов - **B**
- [ ] Выбор предмета инвентаря:
    - [ ] Основное оружие (Автомат/Винтовка) - **1**
    - [ ] Вторичное оружие (Пистолет) - **2**
    - [ ] Нож - **3**
    - [ ] Граната - **4**
    - [ ] Аптечка (Health shot) - **5**

## Система инвентаря и оружия
- [ ] Стандартное и первоначальное оружие - пистолет. В качестве пистолетов предоставляется выбор из USP-S/Glock-17, не отличающихся по характеристикам. Возможно дальнейшее усовершенствование пистолета в виде Desert Eagle, который отличается большим уроном за выстрел, но меньшими скорострельностью и количеством патронов в магазине. Количество патронов в USP-S: 12, в Glock-17: 20, в Desert Eagle: 7. Один выстрел производится с помощью единичного нажатия на кнопку мыши и наносит с USP-S 20 ед. базового урона либо 40 ед. критического урона, с Glock-17 17 ед. и 34 ед. урона соответственно, с Desert Eagle 40 ед. и 80 ед. урона соответственно
- [ ] Возможность закупки автоматических винтовок - AK-47 и M4A1/M4A4, отличающихся уроном. Выстрелы данного типа оружия производится в автоматическом режиме при зажатии кнопки мыши. Количество патронов в AK-47: 30, в M4A1 - 20, M4A4 - 30. Один выстрел с AK-47 наносит 30 ед. базового урона либо 60 ед. критического урона, с M4A1/M4A4 - 25 ед. и 50 ед. соответственно.
- [ ] Доступна покупка снайперской винтовки AWP. Данный тип оружий позволяет вести прицельную стрельбу по противнику. Количество патронов в AWP: 5. Один выстрел производится единичным нажатием кнопки мыши и наносит 100 ед. базового и 200 ед. критического урона
- [ ] Всем игрокам, в качестве ближнего оружия, доступен нож. Возможны одиночный удар ножом - нажатие кнопки мыши, безостановочная резьба ножом - зажатие кнопки мыши. Также отличаются виды ударов ножом при нажатии левой и правой кнопок мыши: для ЛКМ - удар более дальнобойный и быстрый, но наносящий меньше урона, для ПКМ - удар менее дальнобойный и более медленный, но наносящий большее количество урона. Отличаются и варианты ударов: при ударе в переднюю часть противника урон меньше, чем при ударе в заднюю часть противника (спину). В итоге урон: при ударе с ЛКМ в переднюю часть противника - 35 ед., в заднюю - 65 ед., при ударе с ПКМ в переднюю часть противника - 55 ед., в заднюю - 100 ед. Броня не влияет на урон от данного типа оружия
- [ ] Доступна покупка гранат при условии максимум по одной штуке в наличии - осколочной гранаты и Молотова (бонус: световая граната и дымовая граната). Гранаты кидаются в пределах радиуса обзора персонажа. Осколочная граната взрывается через 3 секунды после броска и наносит 50 ед. урона в радиусе взрыва. Молотов взрывается на месте падения и покрывает огнем радиус вокруг места падения. Молотов горит 10 секунд и наносит 12 ед. урона в секунду всем, кто в нем находится
- [ ] Все оружия кроме гранат не имеют баллистики патронов при стрельбе, попадания с оружий приводит к мгновенному снятию очков здоровья. Броски гранат имеют свою баллистику при броске и могут огибать некоторые препятствия
- [ ] Патроны для оружий возможно покупать в начале раунда, либо их можно пополнить найдя один из ящиков с патронами. Ящики с патронами случайно появляются на карте.
- [ ] В качестве снижения урона, наносимого оружием доступа покупка брони. Броня позволяет снизить урон от оружия на определенный коэффициент, который будет определен в ходе распределения баланса оружий в игре
- [ ] Для пополнения очков здоровья игроку следует покупать аптечку, притом аптечка восстанавливает игроку 50 ед. здоровья

## Система стрельбы
- [ ] Должен быть реализован разброс оружия
- [ ] У каждого из оружий должен быть базовое значение разброса
- [ ] При беге/ходьбе/"ползание"/прыжке разброс увеличивается
- [ ] БОНУС: Реализация контр-стрейфа, возможность нивелировать разброс оружия в момент обратного движения персонажа
- [ ] При автоматической стрельбе разброс увеличивается
- [ ] При быстрой стрельбе одиночными выстрелами разброс также увеличивается

## Анимация
Должны быть анимированы следующие действия:
- [ ] Движение вперед/назад
- [ ] Движение влево/вправо относительно камеры
- [ ] Приседание
- [ ] Ходьба
- [ ] Прыжок
- [ ] Выстрел из каждого типа оружия или применения предмета
- [ ] Смерти персонажа/бота (БОНУС: несколько вариантов)
- [ ] Эффекты от выстрела оружия (вспышка)
- [ ] Взрыв гранаты или взрывающегося предмета на карте (сцене), например бочки

## UI
Игровой UI должен отображать следующие параметры текущие параметры игрока:
- [ ] Количество очков набранных во время прохождения уровня
- [ ] Количество денег доступных для закупки оружия между волнами
- [ ] Здоровье игрока
- [ ] Состояние бронежилета (степень изношенности в процентах)
- [ ] Выбранное оружие
- [ ] Количество патронов в оружие и общее количество патронов для оружия
- [ ] Количество и тип (сложность) "волны" ботов
- [ ] Время проведенное на уровне
- [ ] БОНУС: Содержимое инвентаря (?)

## Меню закупки
- [ ] Меню закупки должно появляться поверх основного UI
- [ ] Должно отображать все возможное варианты оружий доступных для закупки
- [ ] Должно отображаться стоимость каждого из предметов/оружий/бафов

## Звуки
Следующие действия должны иметь свой характерный звук (для персонажа и ботов):
- [ ] Смерть персонажа
- [ ] Движения персонажа (бега) без использования Walk или Crouch
- [ ] Прыжок персонажа
- [ ] Выстрел из оружия (каждое из оружий должно иметь свой характерный звук выстрела)
- [ ] Попадание без бронежилета/с бронежилетом
- [ ] Попадание в тяжело-бронированного врага (босса)
- [ ] Попадание в голову (нанесение критического урона)
- [ ] Звук попадания в предмет окружения: стены, ящики и т.п. (несколько вариантов звуков)
- [ ] Звук использования аптечки
- [ ] Звук успешного прохождения уровня

## Логика работы боты

### Спавн ботов
- [ ] В начале уровня спавнятся боты только с ножом
- [ ] После нескольких волн (уточняется при балансировки игры) ботам добавляется стрелковое оружие в виде пистолета
- [ ] Следующая сложность волны сборка из ботов с ножами, пистолетами и автоматами
- [ ] БОНУС: Периодически может спавнится снайпер - для того, чтобы избежать его атаки можно использовать дымовую гранату
- [ ] На финальной волне спавнится босс, с отличающейся моделькой, повышенной броней и пулеметом в виде оружия

### Логика работы ботов
- Если игрок не обнаружен:
    - [ ] Боты движутся в направлении плента на карте, т.е. точки карты, которую им необходимо занять
    - [ ] При занятии плента, если бот не имеет информации об игроке - переходит в режим патрулирования или поиска игрока на карте
- Если игрок обнаружен:
    - [ ] Боты с ножом, если увидели игрока бегут по прямой к нему
    - [ ] Боты с пистолетами атакуют с близкой дистанции
    - [ ] Боты с автоматическим оружием могут атаковать как с близкой так и дальней дистанции
    - [ ] БОНУС: снайпер видит игрока на дальней дистанции и старается не сближаться с игроком
    - [ ] Босс атакует со средней дистанции

### Взаимодействие с ботами
- [ ] Если игрок издал звук уровень, которого попадает в радиус слышимости бота, то у бота появляется примерная зона расположения игрока.
- [ ] При прямом визуальном контакте с игроком - все боты передают информацию друг другу (БОНУС: можно сделать настраиваемым)
- [ ] Используя Walk или Crouch можно прятаться от ботов. Боты, если не имеют информации о расположении игрока не движутся к нему и не атакуют его.
